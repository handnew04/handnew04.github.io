<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=google-site-verification content="A_XdUx0_-T0KobQbEBvPZ5ffTJlRJqNYr2engr5rpjI"><meta name=description content="dev step by step"><meta name=generator content="Hugo 0.79.1"><title>[디자인패턴] Template Method Pattern &#183; Handnew's blog</title><link rel="shortcut icon" href=https://handnew04.github.io/images/favicon.ico><link rel=stylesheet href=https://handnew04.github.io/css/style.css><link rel=stylesheet href=https://handnew04.github.io/css/monosocialiconsfont.css><link href=https://handnew04.github.io/index.xml rel=alternate type=application/rss+xml title="Handnew's blog"><link rel=stylesheet href=https://handnew04.github.io/css/rainbow.css><script src=https://handnew04.github.io/css/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script data-ad-client=ca-pub-2907304965705395 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><nav class=main-nav><a href=https://handnew04.github.io/><span class=arrow>←</span>Home</a>
<a href=https://github.com/handnew04 target=_blank>About</a>
<a href=https://handnew04.github.io/posts>Archive</a>
<a href=https://handnew04.github.io/tags>Tags</a>
<a href=https://handnew04.github.io/search>Search</a></nav><section id=wrapper class=post><article><header><h1>[디자인패턴] Template Method Pattern</h1><h2 class=headline>Apr 22, 2019 19:05
· 1063 words
· 3 minute read
<span class=tags><a href=https://handnew04.github.io/tags/designpattern>DesignPattern</a>
<a href=https://handnew04.github.io/tags/template-method>Template Method</a></span></h2></header><div id=toc><nav id=TableOfContents><ul><li><a href=#템플릿-메서드-기본-설계구조>템플릿 메서드 기본 설계구조</a></li><li><a href=#템플릿-메서드-패턴의-구현-단계>템플릿 메서드 패턴의 구현 단계</a></li><li><a href=#예제>예제</a><ul><li><a href=#reference>Reference</a></li></ul></li></ul></nav></div><section id=post-body><ul><li>알고리즘의 구조를 메서드에 정의하고 하위 클래스에서 알고리즘의 구조의 변경 없이 알고리즘을 재정의 하는 패턴<ul><li>구현하려는 알고리즘이 일정한 프로세스가 있다</li><li>구현하려는 알고리즘이 변경 가능성이 있다</li></ul></li></ul><h2 id=템플릿-메서드-기본-설계구조>템플릿 메서드 기본 설계구조</h2><hr><p><img src=/images/post/designpattern_templatemethod1.png alt></p><h2 id=템플릿-메서드-패턴의-구현-단계>템플릿 메서드 패턴의 구현 단계</h2><hr><ol><li>요구사항에 대한 알고리즘을 여러 단계로 나눈다</li><li>나눠진 알고리즘의 단계를 메서드로 선언한다</li><li>알고리즘을 수행할 템플릿 메서드를 만든다</li><li>하위 클래스에서 나눠진 메서드들을 구현한다</li></ol><h2 id=예제>예제</h2><p>신작 게임의 접속을 구현해주세요</p><ul><li>requestConnection(String str): String</li></ul><p>유저가 게임 접속시 다음을 고려해야 합니다</p><ul><li>보안 과정 : 보안 관련 부분을 처리합니다<ul><li>doSecurity(String string):String</li></ul></li><li>인증 과정 : user name과 password가 일치하는지 확인합니다<ul><li>authentication(String id, String password):boolean</li></ul></li><li>권한 과정 : 접속자가 유료 회원인지 무료 회원인지 게임 마스터 인지 확인합니다<ul><li>authorization(String userName):int</li></ul></li><li>접속 과정 : 접속자에게 커넥션 정보를 넘겨줍니다<ul><li>connection(String info):String</li></ul></li></ul><p>현재 위의 요구 사항에서 이미 단계가 나눠져 있고 메서드가 정해져 있다.</p><p>추상 클래스</p><pre><code>package Template_Method.helperPkg;

public abstract class AbstGameConnectHelper {
    //알고리즘의 단계라서 외부(패키지)에 노출이 되면안되지만 하위 클래스에선 사용할 수 있어야 함 -&gt; protected 접근 제어자 사용
    protected abstract String doSecurity(String string);

    protected abstract boolean authentication(String id, String password);

    protected abstract int authorization(String userName);

    protected abstract String connection(String info);

    //템플릿 메서드
    public String reqeustConnection(String str) {
        //보안 작업 -&gt; 암호화 된 문자열을 복호화
        String decodedInfo = doSecurity(str);
        //반환 된 것을 가지고 아이디, 암호를 할당.
        String id = &quot;aaa&quot;;
        String password = &quot;bbb&quot;;

        if (!authentication(id, password)) {
            throw new Error(&quot;아이디 암호 불일치&quot;);
        }

        String userName = &quot;&quot;;
        int i = authorization(userName);

        switch (i) {
            case -1: //셧다운을 적용할 때 권한 확인에서 -1를 리턴 시
                throw  new Error(&quot;셧다운&quot;);
            case 0: // 게임 매니저
                break;
            case 1: // 유료 회원
                break;
            case 2: // 무료 회원
                break;
            case 3: // 권한 없음
                break;
            default: // 기타 상황
                break;
        }


        return connection(decodedInfo);
    }
}
</code></pre><p>추상메서드의 구현 클래스</p><pre><code>package Template_Method.helperPkg;

public class DefaultGameConnectionHelper extends AbstGameConnectHelper {
    @Override
    protected String doSecurity(String string) {
        System.out.println(&quot;강화된 알고리즘을 이용한 디코드&quot;);
        return string;
    }

    @Override
    protected boolean authentication(String id, String password) {
        System.out.println(&quot;아이디/암호 확인 과정&quot;);
        return true;
    }

    @Override
    protected int authorization(String userName) {
        System.out.println(&quot;권한 확인&quot;);
        //서버에서 유저이름 유저의 나이를 알 수 있다.
        //나이를 확인하고 시간을 확인하고 미성년자일때 10시가 지났다면
        //권한이 없는 것으로 한다.
        return 0;
    }

    @Override
    protected String connection(String info) {
        System.out.println(&quot;접속 단계&quot;);
        return info;
    }
}
</code></pre><p>Main 클래스</p><pre><code>package Template_Method;

import Template_Method.helperPkg.AbstGameConnectHelper;
import Template_Method.helperPkg.DefaultGameConnectionHelper;

public class Main {
    public static void main(String[] args){
        AbstGameConnectHelper helper = new DefaultGameConnectionHelper();

        helper.reqeustConnection(&quot;아이디 암호 등 접속 정보&quot;);
    }
}
</code></pre><p><img src=/images/post/designpattern_templatemethod2.png alt>
패키지를 분리하여 helper 변수에 추상메서드들이 나타나지 않는 것을 확인할 수 있다.</p><p>실행 결과</p><p><img src=/images/post/designpattern_templatemethod3.png alt></p><h3 id=reference>Reference</h3><ul><li><a href=https://youtu.be/qr7I18Lhsl8>자바 디자인 패턴의 이해</a></li></ul></section></article><script src=https://utteranc.es/client.js repo=handnew04/handnew04.github.io issue-term=title theme=github-light crossorigin=anonymous async></script><footer id=footer><p class=small>© Yujung 2020 <i class="fa fa-heart" aria-hidden=true></i></p><p class=small><a href=https://handnew04.github.io/index.xml type=application/rss+xml target=_blank><i class="fas fa-rss"></i>RSS</a>
/ Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-cactus-plus>nodejh</a></p></footer></section><script src=https://handnew04.github.io/js/jquery-3.3.1.min.js></script><script src=https://handnew04.github.io/js/main.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-137481057-1','auto');ga('send','pageview');}</script></body></html>